(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5002bbb4"],{"159b":function(e,t,o){var a=o("da84"),i=o("fdbc"),n=o("17c2"),r=o("9112");for(var l in i){var c=a[l],s=c&&c.prototype;if(s&&s.forEach!==n)try{r(s,"forEach",n)}catch(f){s.forEach=n}}},"17c2":function(e,t,o){"use strict";var a=o("b727").forEach,i=o("a640"),n=o("ae40"),r=i("forEach"),l=n("forEach");e.exports=r&&l?[].forEach:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}},"3b47":function(e,t,o){var a=o("9097");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=o("499e").default;i("586c3da6",a,!0,{sourceMap:!1,shadowMode:!1})},4160:function(e,t,o){"use strict";var a=o("23e7"),i=o("17c2");a({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"65f0":function(e,t,o){var a=o("861d"),i=o("e8b5"),n=o("b622"),r=n("species");e.exports=function(e,t){var o;return i(e)&&(o=e.constructor,"function"!=typeof o||o!==Array&&!i(o.prototype)?a(o)&&(o=o[r],null===o&&(o=void 0)):o=void 0),new(void 0===o?Array:o)(0===t?0:t)}},9097:function(e,t,o){var a=o("24fb");t=a(!1),t.push([e.i,".config_file[data-v-a8bf4bf6]{position:relative}.config_file .config_add_btn[data-v-a8bf4bf6]{position:absolute;right:0;top:-50px}.config_file .config_dialog[data-v-a8bf4bf6]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.config_file .config_dialog[data-v-a8bf4bf6] .el-dialog{max-width:1200px;width:100%;margin:0 50px!important}.config_file .config_dialog[data-v-a8bf4bf6] .el-dialog .el-dialog__body{padding-bottom:unset;overflow:auto}.config_file .config_dialog[data-v-a8bf4bf6] .el-date-editor{width:100%}",""]),e.exports=t},a640:function(e,t,o){"use strict";var a=o("d039");e.exports=function(e,t){var o=[][e];return!!o&&a((function(){o.call(null,t||function(){throw 1},1)}))}},a73f:function(e,t,o){"use strict";var a=o("3b47"),i=o.n(a);i.a},ae40:function(e,t,o){var a=o("83ab"),i=o("d039"),n=o("5135"),r=Object.defineProperty,l={},c=function(e){throw e};e.exports=function(e,t){if(n(l,e))return l[e];t||(t={});var o=[][e],s=!!n(t,"ACCESSORS")&&t.ACCESSORS,f=n(t,0)?t[0]:c,u=n(t,1)?t[1]:void 0;return l[e]=!!o&&!i((function(){if(s&&!a)return!0;var e={length:-1};s?r(e,1,{enumerable:!0,get:c}):e[1]=1,o.call(e,f,u)}))}},b4aa:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"config_file"},[o("el-button",{staticClass:"config_add_btn",attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.openConfigDialog("add")}}},[e._v("新增 ")]),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.configList,border:"","row-key":"nuc_type","tree-props":{children:"children",hasChildren:"hasChildren"}}},[o("el-table-column",{attrs:{prop:"air_company",label:"航司名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.type?o("span",[e._v(" "+e._s(t.row.nuc_type)+" ")]):e._e(),t.row.type?e._e():o("span",[e._v(" "+e._s(t.row.air_company)+" ")])]}}])}),o("el-table-column",{attrs:{prop:"air_company_code",label:"航司二字码"}}),o("el-table-column",{attrs:{label:"是否可用",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.type?e._e():o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(o){return e.checkedUsing(t.row.is_using,t.row)}},model:{value:t.row.is_using,callback:function(o){e.$set(t.row,"is_using",o)},expression:"scope.row.is_using"}})]}}])}),o("el-table-column",{attrs:{prop:"airline",label:"航线"}}),o("el-table-column",{attrs:{prop:"airline_scope",label:"航线范围"}}),o("el-table-column",{attrs:{prop:"code_for_free",label:"豁免代码"}}),o("el-table-column",{attrs:{prop:"ForFreeReason",label:"豁免原因"}}),o("el-table-column",{attrs:{prop:"voluntary_channel",width:"80",align:"center",label:"自愿退票渠道"}}),o("el-table-column",{attrs:{prop:"involuntary_channel",label:"非自愿退票渠道",width:"80",align:"center"}}),o("el-table-column",{attrs:{label:"结算码",width:"65",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.type?e._e():o("span",[e._v(e._s(t.row.IsSpecFile?"是":"否"))])]}}])}),o("el-table-column",{attrs:{label:"适用全航司"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.type?e._e():o("span",[e._v(e._s(t.row.is_all_air_company?"适用":"不适用"))])]}}])}),o("el-table-column",{attrs:{label:"noShow票"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.type?e._e():o("span",[e._v(e._s(t.row.is_no_show?"是":"否"))])]}}])}),o("el-table-column",{attrs:{prop:"publish_time",label:"发布日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.type?e._e():o("span",[e._v(e._s(e.$TimeSetting(t.row.publish_time)))])]}}])}),o("el-table-column",{attrs:{prop:"takeoff_time",label:"起飞时间段"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.type?e._e():o("span",[e._v(e._s(e.$TimeSetting(t.row.publish_time)))])]}}])}),o("el-table-column",{attrs:{prop:"ticket_time",label:"出票起始时间段"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.type?e._e():o("span",[e._v(e._s(e.$TimeSetting(t.row.ticket_time)))])]}}])}),o("el-table-column",{attrs:{prop:"validate_time",label:"有效期"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.type?e._e():o("span",[e._v(e._s(e.$TimeSetting(t.row.validate_time)))])]}}])}),o("el-table-column",{attrs:{align:"center",label:"操作",width:"80",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.type?e._e():o("div",{staticStyle:{display:"flex"}},[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.editCinfig(t.row)}}},[e._v("删除")])],1)]}}])})],1),o("el-dialog",{staticClass:"config_dialog",attrs:{title:"add"===e.dialogTitleType?"新增":"编辑",visible:e.configDialog,"show-close":!1,"close-on-click-modal":!1,"modal-append-to-body":!1},on:{"update:visible":function(t){e.configDialog=t}}},[o("div",{staticClass:"dialog_main"},[o("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.configForm,rules:e.rules,"label-width":"150px"}},[o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"航司名称",prop:"air_company"}},[o("el-input",{attrs:{clearable:""},model:{value:e.configForm.air_company,callback:function(t){e.$set(e.configForm,"air_company",t)},expression:"configForm.air_company"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"航司二字码",prop:"air_company_code"}},[o("el-input",{attrs:{clearable:""},model:{value:e.configForm.air_company_code,callback:function(t){e.$set(e.configForm,"air_company_code",t)},expression:"configForm.air_company_code"}})],1)],1)],1),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"航线"}},[o("el-input",{attrs:{clearable:""},model:{value:e.configForm.airline,callback:function(t){e.$set(e.configForm,"airline",t)},expression:"configForm.airline"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"航线范围"}},[o("el-input",{attrs:{clearable:""},model:{value:e.configForm.airline_scope,callback:function(t){e.$set(e.configForm,"airline_scope",t)},expression:"configForm.airline_scope"}})],1)],1)],1),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"非自愿退票渠道",prop:"involuntary_channel"}},[o("el-input",{attrs:{clearable:""},model:{value:e.configForm.involuntary_channel,callback:function(t){e.$set(e.configForm,"involuntary_channel",t)},expression:"configForm.involuntary_channel"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"自愿退票渠道",prop:"voluntary_channel"}},[o("el-input",{attrs:{clearable:""},model:{value:e.configForm.voluntary_channel,callback:function(t){e.$set(e.configForm,"voluntary_channel",t)},expression:"configForm.voluntary_channel"}})],1)],1)],1),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"豁免代码"}},[o("div",{staticStyle:{display:"inline-flex"}},[o("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"前两位"},model:{value:e.configForm.code_for_free_en,callback:function(t){e.$set(e.configForm,"code_for_free_en",t)},expression:"configForm.code_for_free_en"}}),o("el-input",{attrs:{clearable:"",placeholder:"其他部分"},model:{value:e.configForm.code_for_free_number,callback:function(t){e.$set(e.configForm,"code_for_free_number",t)},expression:"configForm.code_for_free_number"}})],1)])],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"发布日期"}},[o("el-date-picker",{attrs:{type:"datetime",placeholder:"发布日期","value-format":"yyyy-MM-ddTHH:mm:ss+08:00"},model:{value:e.configForm.publish_time,callback:function(t){e.$set(e.configForm,"publish_time",t)},expression:"configForm.publish_time"}})],1)],1)],1),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"豁免原因"}},[o("el-input",{attrs:{clearable:"",placeholder:"请填写豁免原因"},model:{value:e.configForm.forFreeReason,callback:function(t){e.$set(e.configForm,"forFreeReason",t)},expression:"configForm.forFreeReason"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"起飞时间段"}},[o("el-date-picker",{attrs:{type:"datetime",placeholder:"选择起飞时间段","value-format":"yyyy-MM-ddTHH:mm:ss+08:00"},model:{value:e.configForm.takeoff_time,callback:function(t){e.$set(e.configForm,"takeoff_time",t)},expression:"configForm.takeoff_time"}})],1)],1)],1),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"出票起始时间段"}},[o("el-date-picker",{attrs:{type:"datetime",placeholder:"选择出票起始时间段","value-format":"yyyy-MM-ddTHH:mm:ss+08:00"},model:{value:e.configForm.ticket_time,callback:function(t){e.$set(e.configForm,"ticket_time",t)},expression:"configForm.ticket_time"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"有效期",prop:"validate_time"}},[o("el-date-picker",{attrs:{type:"datetime",placeholder:"选择有效期","value-format":"yyyy-MM-ddTHH:mm:ss+08:00"},model:{value:e.configForm.validate_time,callback:function(t){e.$set(e.configForm,"validate_time",t)},expression:"configForm.validate_time"}})],1)],1)],1),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:4}},[o("el-form-item",{attrs:{label:"是否为NUC文件"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.configForm.is_nuc,callback:function(t){e.$set(e.configForm,"is_nuc",t)},expression:"configForm.is_nuc"}})],1)],1),o("el-col",{attrs:{span:4}},[o("el-form-item",{attrs:{label:"是否适用全航司"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.configForm.is_all_air_company,callback:function(t){e.$set(e.configForm,"is_all_air_company",t)},expression:"configForm.is_all_air_company"}})],1)],1),o("el-col",{attrs:{span:4}},[o("el-form-item",{attrs:{label:"是否适用于no show"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.configForm.is_no_show,callback:function(t){e.$set(e.configForm,"is_no_show",t)},expression:"configForm.is_no_show"}})],1)],1)],1)],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.configDialog=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.submitBtn}},[e._v("确 定")])],1)]),o("el-dialog",{attrs:{width:"300px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,visible:e.warningDialog,title:"警告"},on:{"update:visible":function(t){e.warningDialog=t}}},[o("div",[e._v("正在关闭当前航线，是否确定")]),o("div",{staticClass:"footer-dialog",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.closeConfig(!1)}}},[e._v("取 消")]),o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.closeConfig(!0)}}},[e._v("确 定")])],1)])],1)},i=[],n=(o("4160"),o("159b"),{name:"config_file",data:function(){return{configList:[],configDialog:!1,dialogTitleType:"",configForm:{},rules:{air_company:[{required:!0,message:"请输入航司名称",trigger:"blur"}],air_company_code:[{required:!0,message:"请输入航司二字码",trigger:"blur"}],involuntary_channel:[{required:!0,message:"请输入非自愿退票渠道",trigger:"blur"}],validate_time:[{required:!0,message:"请选择有效期",trigger:"blur"}],voluntary_channel:[{required:!0,message:"请输入自愿退票渠道",trigger:"blur"}]},warningDialog:!1,checkedStatus:{}}},methods:{getDataList:function(){var e=this;this.configList=[],this.$axios.get("default/config/configFile").then((function(t){if(0===t.data.code){var o=t.data.data,a=[],i=[];o.forEach((function(e,t){e.is_using="yes"===e.is_using,e.is_nuc?(e["nuc_type"]="nuc-"+t,a.push(e)):(e["nuc_type"]="notNuc-"+t,i.push(e))})),e.configList.push({nuc_type:"NUC文件",type:"menu",children:a},{nuc_type:"非NUC文件",type:"menu",children:i})}else e.$message.warning(t.data.message)}))},openConfigDialog:function(e,t){this.dialogTitleType=e,this.configForm="edit"===e?JSON.parse(JSON.stringify(t)):{},this.configDialog=!0},editCinfig:function(e){var t=this;this.$confirm(" 该操作将删除此配置文件， 请慎重删除！","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((function(){t.$axios.delete("default/config/configFile/"+e.air_company).then((function(e){t.$message(e.data.message),0===e.data.code&&t.getDataList()}))})).catch((function(){}))},submitBtn:function(){var e=this,t=JSON.parse(JSON.stringify(this.configForm));t["code_for_free"]=(t["code_for_free_en"]?t["code_for_free_en"]:"")+"-"+(t["code_for_free_number"]?t["code_for_free_number"]:""),delete t["code_for_free_en"],delete t["code_for_free_number"],t.is_using=t.is_using?"yes":"no",this.$axios.post("default/config/configFile",t).then((function(t){0===t.data.code?(e.configDialog=!1,e.$message.success(t.data.message),e.getDataList()):e.$message.warning(t.data.message)}))},checkedUsing:function(e,t){this.checkedStatus={configName:"configFile",isUsing:e?"yes":"no",itemID:t.ID},e?this.closeConfig(!0):this.warningDialog=!0},closeConfig:function(e){var t=this;e?this.$axios.post("default/config/use",this.checkedStatus).then((function(e){0===e.data.code?t.$message.success(e.data.message):(t.$message.warning(e.data.message),t.getDataList())})):this.getDataList(),this.warningDialog=!1}}}),r=n,l=(o("a73f"),o("2877")),c=Object(l["a"])(r,a,i,!1,null,"a8bf4bf6",null);t["default"]=c.exports},b727:function(e,t,o){var a=o("0366"),i=o("44ad"),n=o("7b0b"),r=o("50c4"),l=o("65f0"),c=[].push,s=function(e){var t=1==e,o=2==e,s=3==e,f=4==e,u=6==e,m=5==e||u;return function(p,d,g,_){for(var b,y,h=n(p),v=i(h),w=a(d,g,3),F=r(v.length),k=0,x=_||l,S=t?x(p,F):o?x(p,0):void 0;F>k;k++)if((m||k in v)&&(b=v[k],y=w(b,k,h),e))if(t)S[k]=y;else if(y)switch(e){case 3:return!0;case 5:return b;case 6:return k;case 2:c.call(S,b)}else if(f)return!1;return u?-1:s||f?f:S}};e.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6)}},e8b5:function(e,t,o){var a=o("c6b6");e.exports=Array.isArray||function(e){return"Array"==a(e)}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);