(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1147e0b0"],{"159b":function(e,t,i){var a=i("da84"),n=i("fdbc"),o=i("17c2"),c=i("9112");for(var s in n){var f=a[s],r=f&&f.prototype;if(r&&r.forEach!==o)try{c(r,"forEach",o)}catch(l){r.forEach=o}}},"17c2":function(e,t,i){"use strict";var a=i("b727").forEach,n=i("a640"),o=i("ae40"),c=n("forEach"),s=o("forEach");e.exports=c&&s?[].forEach:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}},"1a34":function(e,t,i){var a=i("2e05");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("499e").default;n("4727de3d",a,!0,{sourceMap:!1,shadowMode:!1})},"1dde":function(e,t,i){var a=i("d039"),n=i("b622"),o=i("2d00"),c=n("species");e.exports=function(e){return o>=51||!a((function(){var t=[],i=t.constructor={};return i[c]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2086:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"office_no"},[i("el-button",{staticClass:"config_add_btn",attrs:{size:"small",type:"primary"},on:{click:function(t){return e.openOfficeDialog("add")}}},[e._v("新增 ")]),i("div",{staticClass:"offcie_header"}),i("div",{staticClass:"office_table"},[i("el-table",{ref:"officeTable",staticStyle:{width:"100%"},attrs:{data:e.office_list,border:"",stripe:"","highlight-current-row":"","row-key":"id","tree-props":{children:"children"}},on:{"row-dblclick":e.dbClickOpenData}},[i("el-table-column",{attrs:{prop:"channel_name",label:"渠道名称"}}),i("el-table-column",{attrs:{prop:"TicketDesk",label:"票台"}}),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.type?e._e():i("el-button",{staticClass:"delete_btn",attrs:{type:"primary",plain:"",size:"mini"},nativeOn:{click:function(i){return i.preventDefault(),e.deleteOffice(t.row,t.$index)}}},[e._v("删除 ")])]}}])})],1)],1),i("el-dialog",{attrs:{title:"新增渠道OFFCIE号",visible:e.officeDialog,width:"500px"},on:{"update:visible":function(t){e.officeDialog=t}}},[i("el-form",{ref:"ruleForm",staticClass:"office_dialog",attrs:{"label-width":"120px"}},[i("el-form-item",{attrs:{label:"渠道名称:"}},[i("el-input",{model:{value:e.addOffice.name,callback:function(t){e.$set(e.addOffice,"name",t)},expression:"addOffice.name"}})],1),i("el-form-item",{attrs:{label:"渠道office号："}},[i("el-input",{model:{value:e.addOffice.office,callback:function(t){e.$set(e.addOffice,"office",t)},expression:"addOffice.office"}})],1),i("el-form-item",{attrs:{label:"票台："}},[i("div",{staticStyle:{display:"inline-flex","align-items":"center",width:"100%"}},[i("el-input",{staticStyle:{flex:"1"},model:{value:e.addOffice.TicketDesk,callback:function(t){e.$set(e.addOffice,"TicketDesk",t)},expression:"addOffice.TicketDesk"}}),i("el-button",{staticClass:"add_btn el-icon-plus",attrs:{type:"primary",circle:"",size:"mini"},on:{click:e.addDeskBtn}})],1),e._l(e.deskList,(function(t,a){return i("div",{key:a,staticClass:"desk_box",staticStyle:{display:"inline-flex","align-items":"center",width:"100%"}},[i("el-input",{staticStyle:{flex:"1"},model:{value:e.deskList[a],callback:function(t){e.$set(e.deskList,a,t)},expression:"deskList[index]"}}),i("el-button",{staticClass:"add_btn el-icon-minus",attrs:{type:"danger",circle:"",size:"mini"},on:{click:function(t){return e.removeDeskBtn(a)}}})],1)}))],2)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.officeDialog=!1}}},[e._v("关 闭")]),i("el-button",{attrs:{type:"primary"},on:{click:e.addOfficeBtn}},[e._v("确 定")])],1)],1)],1)},n=[],o=(i("4160"),i("a434"),i("b0c0"),i("b64b"),i("159b"),{name:"officeTemplate",data:function(){return{office_list:[],clickTableName:["占位"],officeDialog:!1,addOffice:{},deleteDialog:!1,officeInfo:{},deskList:[]}},methods:{getDataList:function(){var e=this;this.office_list=[],this.clickTableName=["占位"],this.$axios.get("default/config/officeNo").then((function(t){if(0===t.data.code){var i=Object.keys(t.data.data);i.forEach((function(i,a){var n=[];t.data.data[i].forEach((function(e,t){n.push({id:e.OfficeNo+t,channel_name:e.OfficeNo,TicketDesk:e.TicketDesk,menuName:i})})),e.office_list.push({id:"menu"+a,channel_name:i,type:"menu",children:n})}))}}))},dbClickOpenData:function(e,t,i){var a=this;this.clickTableName.forEach((function(t,i){t===e.channel_name?(a.$refs.officeTable.toggleRowExpansion(e,!1),a.clickTableName.splice(i)):(a.$refs.officeTable.toggleRowExpansion(e,!0),a.clickTableName.push(e.channel_name))}))},openOfficeDialog:function(e,t){this.officeDialog=!0,this.addOffice={},this.deskList=[]},deleteOffice:function(e){var t=this;this.$confirm(" 该操作将删除此渠道OFFICE号， 请慎重删除！","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((function(){t.$axios.delete("default/config/officeNo/"+e.menuName+"/"+e.channel_name).then((function(e){0===e.data.code?(t.$message.success(e.data.message),t.getDataList()):t.$message.warning(e.data.message)}))})).catch((function(){}))},addDeskBtn:function(){this.deskList.push("")},removeDeskBtn:function(e){this.deskList.splice(e,1)},deleteBtn:function(e,t){var i=this;this.$axios.delete("default/config/officeNo/"+this.officeInfo.channel_name+"/"+this.officeInfo).then((function(e){0===e.data.code?(i.$message.success(e.data.message),i.deleteDialog=!1,i.getDataList()):i.$message.warning(e.data.message)}))},addOfficeBtn:function(){var e=this,t=this.addOffice.TicketDesk;this.deskList.length>0&&(t+=","+String(this.deskList));var i={channel_name:this.addOffice.name,is_using:"yes",office_no_list:[{officeNo:String(this.addOffice.office),ticketDesk:t}]};this.$axios.post("default/config/officeNo",i).then((function(t){0===t.data.code?(e.$message.success(t.data.message),e.officeDialog=!1,e.getDataList()):e.$message.warning(t.data.message)}))}}}),c=o,s=(i("ed72"),i("2877")),f=Object(s["a"])(c,a,n,!1,null,"d110fd1e",null);t["default"]=f.exports},"2e05":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,".office_no[data-v-d110fd1e]{position:relative}.office_no .config_add_btn[data-v-d110fd1e]{position:absolute;right:0;top:-50px}.office_no .delete_btn[data-v-d110fd1e]{background:#fff;border:2px solid #0070e2;-webkit-transition:all .3s;transition:all .3s;color:#0070e2}.office_no .delete_btn[data-v-d110fd1e]:hover{color:#fff;background:#0070e2}.office_dialog .desk_box[data-v-d110fd1e]{margin-top:5px}.office_dialog .add_btn[data-v-d110fd1e]{margin-left:10px;-ms-flex-negative:0;flex-shrink:0}",""]),e.exports=t},4160:function(e,t,i){"use strict";var a=i("23e7"),n=i("17c2");a({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"65f0":function(e,t,i){var a=i("861d"),n=i("e8b5"),o=i("b622"),c=o("species");e.exports=function(e,t){var i;return n(e)&&(i=e.constructor,"function"!=typeof i||i!==Array&&!n(i.prototype)?a(i)&&(i=i[c],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===t?0:t)}},8418:function(e,t,i){"use strict";var a=i("c04e"),n=i("9bf2"),o=i("5c6c");e.exports=function(e,t,i){var c=a(t);c in e?n.f(e,c,o(0,i)):e[c]=i}},a434:function(e,t,i){"use strict";var a=i("23e7"),n=i("23cb"),o=i("a691"),c=i("50c4"),s=i("7b0b"),f=i("65f0"),r=i("8418"),l=i("1dde"),d=i("ae40"),u=l("splice"),h=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,m=Math.min,b=9007199254740991,g="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!u||!h},{splice:function(e,t){var i,a,l,d,u,h,v=s(this),k=c(v.length),x=n(e,k),_=arguments.length;if(0===_?i=a=0:1===_?(i=0,a=k-x):(i=_-2,a=m(p(o(t),0),k-x)),k+i-a>b)throw TypeError(g);for(l=f(v,a),d=0;d<a;d++)u=x+d,u in v&&r(l,d,v[u]);if(l.length=a,i<a){for(d=x;d<k-a;d++)u=d+a,h=d+i,u in v?v[h]=v[u]:delete v[h];for(d=k;d>k-a+i;d--)delete v[d-1]}else if(i>a)for(d=k-a;d>x;d--)u=d+a-1,h=d+i-1,u in v?v[h]=v[u]:delete v[h];for(d=0;d<i;d++)v[d+x]=arguments[d+2];return v.length=k-a+i,l}})},a640:function(e,t,i){"use strict";var a=i("d039");e.exports=function(e,t){var i=[][e];return!!i&&a((function(){i.call(null,t||function(){throw 1},1)}))}},ae40:function(e,t,i){var a=i("83ab"),n=i("d039"),o=i("5135"),c=Object.defineProperty,s={},f=function(e){throw e};e.exports=function(e,t){if(o(s,e))return s[e];t||(t={});var i=[][e],r=!!o(t,"ACCESSORS")&&t.ACCESSORS,l=o(t,0)?t[0]:f,d=o(t,1)?t[1]:void 0;return s[e]=!!i&&!n((function(){if(r&&!a)return!0;var e={length:-1};r?c(e,1,{enumerable:!0,get:f}):e[1]=1,i.call(e,l,d)}))}},b64b:function(e,t,i){var a=i("23e7"),n=i("7b0b"),o=i("df75"),c=i("d039"),s=c((function(){o(1)}));a({target:"Object",stat:!0,forced:s},{keys:function(e){return o(n(e))}})},b727:function(e,t,i){var a=i("0366"),n=i("44ad"),o=i("7b0b"),c=i("50c4"),s=i("65f0"),f=[].push,r=function(e){var t=1==e,i=2==e,r=3==e,l=4==e,d=6==e,u=5==e||d;return function(h,p,m,b){for(var g,v,k=o(h),x=n(k),_=a(p,m,3),y=c(x.length),L=0,O=b||s,S=t?O(h,y):i?O(h,0):void 0;y>L;L++)if((u||L in x)&&(g=x[L],v=_(g,L,k),e))if(t)S[L]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return L;case 2:f.call(S,g)}else if(l)return!1;return d?-1:r||l?l:S}};e.exports={forEach:r(0),map:r(1),filter:r(2),some:r(3),every:r(4),find:r(5),findIndex:r(6)}},e8b5:function(e,t,i){var a=i("c6b6");e.exports=Array.isArray||function(e){return"Array"==a(e)}},ed72:function(e,t,i){"use strict";var a=i("1a34"),n=i.n(a);n.a},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);